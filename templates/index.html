<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Deteksi Plagiarisme Dokumen</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link rel="stylesheet" href="static/style.css">
    <link rel="icon" href="../static/image/logo-umsu-tanpa-tulisan.png" type="image/x-icon">
</head>
<body>

<div class="container">
    <div class="logo">
        <img src="../static/image/logo-umsu-tanpa-tulisan.png" alt="Logo UMSU">
    </div>
</div>

<div class="container">
    <div class="cover">
        <h2>Sistem Deteksi Plagiarisme</h2>
        <hr>
        <form method="POST" enctype="multipart/form-data" onsubmit="showLoading()">
            <label>Upload Dokumen (PDF / DOCX)</label>
            <input type="file" name="doc" accept=".pdf,.docx" required>
            <button type="submit">Cek Plagiarisme</button>
        </form>

        <!-- Loading Spinner -->
        <div class="text-center mt-3" id="loading" style="display: none;">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-2">Memproses dokumen, mohon tunggu...</p>
        </div>



        {% if result %}
        <div class="result" id="cover">
            <p><strong>Persentase Kemiripan</strong></p>
            <h1>{{ result.score }}%</h1>

            {% if result.status == "PLAGIARISME" %}
                <p class="plagiat">{{ result.status }}</p>
            {% else %}
                <p class="aman">{{ result.status }}</p>
            {% endif %}
        </div>
        {% endif %}

        {% if error %}
        <div class="error">{{ error }}</div>
        {% endif %}
    </div>
</div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
<script>
    function showLoading() {
      // Sembunyikan hasil lama
      const cover= document.getElementById("cover");
      if (cover) {
        cover.style.display = "none";
      }

      // Tampilkan loading
      document.getElementById("loading").style.display = "block";
    }
  </script>
</html>
